{"componentChunkName":"component---src-templates-blog-post-template-js","path":"/2020/2020-5-20-Get-User/","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Get Current User\",\n  \"date\": \"2021-05-20T00:00:00.000Z\",\n  \"published\": true,\n  \"cover\": \"./Face.png\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"This is one way I log in a user in React JS\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-jsx\"\n  }, \"const handleSubmit = async () => {\\n  const response = await fetch(`${API_URL}/auth/login`, {\\n    method: \\\"POST\\\",\\n    mode: \\\"cors\\\",\\n    headers: { \\\"Content-Type\\\": \\\"application/json\\\" },\\n    body: JSON.stringify({ email: `${email}`, password: `${password}` }),\\n  });\\n\\n  if (response.ok) {\\n  } else {\\n  }\\n  const res = await response.json();\\n  if (res.auth_token !== undefined) {\\n    window.localStorage.setItem(\\\"auth_token\\\", res.auth_token);\\n    window.location.reload();\\n  }\\n};\\n\")), mdx(\"p\", null, \"& how I get that user.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-jsx\"\n  }, \"useEffect(() => {\\n  const getCurrentUser = async () => {\\n    const token = window.localStorage.getItem(\\\"auth_token\\\");\\n    const response = await fetch(`${API_URL}/users/token`, {\\n      method: \\\"GET\\\",\\n      mode: \\\"cors\\\",\\n      headers: { Authorization: `Bearer ${token}` },\\n    });\\n    if (!response.ok) {\\n      console.log(\\\"getCurrent user response failed\\\");\\n    } else {\\n      const json = await response.json();\\n      setCurrentUser(json);\\n    }\\n  };\\n  getCurrentUser();\\n}, []);\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Get Current User","date":"2021 May 20th"}}},"pageContext":{"slug":"/2020/2020-5-20-Get-User/","previous":{"fields":{"slug":"/2020/2020-03-18-Military-Time-Conversion/"},"frontmatter":{"title":"Military time conversion functions"}},"next":{"fields":{"slug":"/2020/2020-5-21-Like-Button/"},"frontmatter":{"title":"Like Button"}}}},"staticQueryHashes":["4080856488"]}